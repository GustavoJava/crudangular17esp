<h2 class="mb-5">
  @if(contact){
    Editar {{contact.name}}
  }@else {
    Novo Contato
  }
</h2>

<div class="row row-cols-3 justify-content-center">
  @if (form) {
    <div>
      @if(errors.length) {
        <div class="alert alert-danger">
          <p>Preencha os dados corretamente!</p>
          <ul>
            @for(error of errors; track error){
              <li>{{error}}</li>
            }
          </ul>
        </div>
      }
    <form [formGroup]="form" (ngSubmit)="save()">
      <div class="mb-3">
          <label for="name">Name</label>
          <input id="name" type="text" placeholder="Name" formControlName="name" class="form-control"/>
          @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
            <p class="invalid-feedback d-block">Nome obrigatório</p>
          }
      </div>

      <div class="mb-3">
          <label for="email">Email</label>
          <input id="email" type="email" placeholder="Email" formControlName="email" class="form-control"/>
          @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
            <p class="invalid-feedback d-block">Email obrigatório</p>
          }
          @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
            <p class="invalid-feedback d-block">Email inválido</p>
          }
      </div>

      <div class="text-end">
          <button type="button" class="btn btn-light" routerLink="/">
              Cancelar
          </button>
        <button class="btn btn-primary">
          @if(contact) {
            Atualizar Contato
          }@else {
            Criar Contato
          }
        </button>
      </div>
    </form>
    </div>
}
</div>
